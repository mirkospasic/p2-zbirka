
\chapter{Bitovi}

\section{Zadaci}



\begin{Exercise}[label=201]
\begin{enumerate}
\item Napisati funkciju \kckod{print\_bits} koja štampa bitove u binarnom zapisu celog broja $x$.
\item Napisati program koja testira funkciju \kckod{print\_bits} za brojeve koji se sa standardnog ulaza zadaju u heksadekasnom formatu.
\end{enumerate}

\begin{maxitest}
\begin{test}{Test 1}
Ulaz:   0x7F  
Izlaz:  0000 0000 0000 0000 0000 0000 0111 1111    
\end{test}
\end{maxitest}

\begin{maxitest}
\begin{test}{Test 2}
Ulaz:   0x80
Izlaz:  0000 0000 0000 0000 0000 0000 1000 0000 
\end{test}
\end{maxitest}

\begin{maxitest}
\begin{test}{Test 3}
Ulaz:   0x00FF00FF
Izlaz:  0000 0000 1111 1111 0000 0000 1111 1111
\end{test}
\end{maxitest}

\begin{maxitest}
\begin{test}{Test 4}
Ulaz:   0xFFFFFFFF
Izlaz:  1111 1111 1111 1111 1111 1111 1111 1111 
\end{test}
\end{maxitest}

\begin{maxitest}
\begin{test}{Test }
Ulaz:   0xABCDE123
Izlaz:  1010 1011 1100 1101 1110 0001 0010 0011
\end{test}
\end{maxitest}
\end{Exercise}
\begin{Answer}[ref=201]
%\includecode{resenja/02_Bitovi/201.c}
\end{Answer}

\begin{Exercise}[label=202]
 Napisati funkciju koja broji bitove postavljene na \argf{1} u zapisu broja $x$. Napisati program koji testira tu funkciju za brojeve koji se sa standardnog ulaza zadaju u heksadekasnom formatu.

\begin{minitest}
\begin{test}{Test 1}
Ulaz:   0x7F  
Izlaz:  7   
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:   0x80
Izlaz:  1
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:   0x00FF00FF
Izlaz:  16
\end{test}
\end{minitest}

\begin{minitest}
\begin{test}{Test 4}
Ulaz:   0xFFFFFFFF
Izlaz:  32
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 4}
Ulaz:   0xABCDE123
Izlaz:  17
\end{test}
\end{minitest}
\end{Exercise}
\begin{Answer}[ref=202]
%\includecode{resenja/02_Bitovi/202.c}
\end{Answer}


\begin{Exercise}[label=203]
\begin{enumerate}
\item Napisati funkciju \kckod{najveci} koja određuje najveći broj koji se može zapisati istim binarnim ciframa kao dati broj i funkciju \kckod{najmanji} koja određuje najmanji broj koji se može zapisati istim binarnim ciframa kao dati broj.
\item Napisati program koji testira prethodno napisane funkcije tako što prikazuje binarnu reprezentaciju brojeva koji se dobijaju nakon poziva funkcije \kckod{najveci}, ondosno \kckod{najmanji} za brojeve koji se sa standardnog ulaza zadaju u heksadekasnom formatu. 
\end{enumerate}

\begin{maxitest}
\begin{test}{Test 1}
Ulaz:   0x7F  
Izlaz:  
 Najveci:
 1111 1110 0000 0000 0000 0000 0000 0000  
 Najmanji:
 0000 0000 0000 0000 0000 0000 0111 1110
\end{test}
\end{maxitest}

\begin{maxitest}
\begin{test}{Test 2}
Ulaz:   0x80
Izlaz:  
 Najveci:
 1000 0000 0000 0000 0000 0000 0000 0000  
 Najmanji:
 0000 0000 0000 0000 0000 0000 0000 0001
\end{test}
\end{maxitest}

\begin{maxitest}
\begin{test}{Test 3}
Ulaz:   0x00FF00FF
Izlaz:  
 Najveci:
 1111 1111 1111 1111 0000 0000 0000 0000  
 Najmanji:
 0000 0000 0000 0000 1111 1111 1111 1111
\end{test}
\end{maxitest}

\begin{maxitest}
\begin{test}{Test 4}
Ulaz:   0xFFFFFFFF
Izlaz:  
 Najveci:
 1111 1111 1111 1111 1111 1111 1111 1111   
 Najmanji:
 1111 1111 1111 1111 1111 1111 1111 1111
\end{test}
\end{maxitest}

\begin{maxitest}
\begin{test}{Test 4}
Ulaz:   0xABCDE123
Izlaz:  
 Najveci:
 1111 1111 1111 1111 1000 0000 0000 0000  
 Najmanji:
 0000 0000 0000 0001 1111 1111 1111 1111
\end{test}
\end{maxitest}

\end{Exercise}
\begin{Answer}[ref=203]
%\includecode{resenja/02_Bitovi/203.c}
\end{Answer}


\begin{Exercise}[label=204]
Napisati program za rad sa bitovima.
\begin{enumerate}
\item Napisati funkciju funkciju koja određuje broj koji se dobija kada se $n$ bitova datog broja, počevši od pozicije $p$ postave na \argf{0}.
\item Napisati funkciju koja određuje broj koji se dobija kada se $n$ bitova datog broja, počevši od pozicije $p$ postave na \argf{1}.
\item Napisati funkciju koja određuje broj koji se dobija kada se $n$ bitova datog broja, počevši od pozicije $p$ i vraća ih kao bitove najmanje težine rezultata.
\item Napisati funkciju koja vraća broj koji se dobija upisivanjem poslednjih $n$ bitova broja $y$ u broj $x$, počevši od pozicije $p$.
\item Napisati funkciju koja vraća broj koji se dobija invertovanjem $n$ bitova broja $x$ počevši od pozicije $p$.
\item Napisati program koji testira prethodno napisane funkcije.
\end{enumerate}
Program treba da testira prethodno napisane funkcije nad neoznačenim celim brojem koji se unosi sa standardnog ulaza.
\emph{Napomena: Pozicije se broje počev od pozicije najnižeg bita, pri čemu se broji od nule .}
\end{Exercise}
\begin{Answer}[ref=204]
%\includecode{resenja/02_Bitovi/204.c}
\end{Answer}


\begin{Exercise}[label=205]
\begin{enumerate}
\item Napisati funkciju funkciju koja određuje broj koji se dobija rotiranjem u levo datog celog broja. Napomena: Rotiranje podrazumeva pomeranje svih bitova za jednu poziciju ulevo, s tim što se bit sa pozicije najviše težine pomera na mesto najmanje težine.
\item Napisati funkciju koja određuje broj koji se dobija rotiranjem u desno datog celog neoznačenog broja. 
\item Napisati funkciju koja određuje broj koji se dobija rotiranjem u desno datog celog broja.
\item Napisati program koji testira prethodno napisane funkcije za brojeve koji se sa standardnog ulaza zadaju u heksadekasnom formatu. 
\end{enumerate}
\end{Exercise}
\begin{Answer}[ref=205]
%\includecode{resenja/02_Bitovi/205.c}
\end{Answer}

\begin{Exercise}[label=206]
Napisati funkciju \kckod{mirror} koja određuje ceo broj čiji binarni zapis je slika u ogledalu binarnog zapisa argumenta funkcije. Napisati i program koji testira datu funkciju za brojeve koji se sa standardnog ulaza zadaju u heksadekasnom formatu, tako što najpre ispisuje binarnu reprezentaciju unetog broja, a potom i binarnu reprezentaciju broja dobijenog nakon poziva funkcije \kckod{mirror} za uneti broj.
\end{Exercise}
\begin{Answer}[ref=206]
%\includecode{resenja/02_Bitovi/206.c}
\end{Answer}

%%%%%%%%%%%%%%%%%%%%%%%%%
% Zadaci sa praktikuma - obavezni zadaci 
%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{Exercise}[label=207]
Napisati funkciju \kckod{int Broj01(unsigned int n)} koja za dati broj \argf{n} vraća \argf{1} ako u njegovom binarnom zapisu ima više jednica nego nula, a inače vraća \argf{0}.  Napisati program koji tu funkciju testira za broj koji se zadaje sa standardnog ulaza.

\begin{minitest}
\begin{test}{Test 1}
Ulaz:   10
Izlaz:  0 
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:   1024
Izlaz:  0 
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:   2147377146
Izlaz:  1 
\end{test}
\end{minitest}

\begin{minitest}
\begin{test}{Test 4}
Ulaz:   1111111115
Izlaz:  0 
\end{test}
\end{minitest}

\end{Exercise}
\begin{Answer}[ref=207]
%\includecode{resenja/02_Bitovi/207.c}
\end{Answer}

\begin{Exercise}[label=208]
Napisati funkciju koja broji koliko se puta kombinacija
  \argf{11} (dve uzastopne jedinice) pojavljuje u binarnom zapisu
  celog neoznačenog broja $x$. Tri uzastopne jedinice se broje
  dva puta.  Napisati program koji tu funkciju testira za broj koji se
  zadaje sa standardnog ulaza.
  
\begin{minitest}
\begin{test}{Test 1}
Ulaz:   11  
Izlaz:  1    
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:   1024
Izlaz:  0 
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:   2147377146
Izlaz:  22
\end{test}
\end{minitest}

\begin{minitest}
\begin{test}{Test 4}
Ulaz:   1111111115
Izlaz:  6 
\end{test}
\end{minitest}
\end{Exercise}
\begin{Answer}[ref=208]
%\includecode{resenja/02_Bitovi/208.c}
\end{Answer}


%%%
%Ovaj 209.c nema resenje za sad...
%%%
\begin{Exercise}[label=209]
Napisati program koji sa standardnog ulaza učitava pozitivan
  ceo broj, a na standardni izlaz ispisuje vrednost tog broja sa
  razmenjenim vrednostima bitova na pozicijama $i$,
  $j$. Pozicije $i$, $j$ se učitavaju kao parametri
  komandne linije. Smatrati da je krajnji desni bit binarne
  reprezentacije \argf{0}-ti bit. Pri rešavanju nije dozvoljeno koristiti
  pomoćni niz niti aritmetičke operatore +,-,/,*,\%.

\begin{minitest}
\begin{test}{Test 1}
Poziv:  ./a.out 1 2 
Ulaz:   11             
Izlaz:  13            
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Poziv: ./a.out 1 2
Ulaz:   1024     
Izlaz:  1024        
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Poziv: ./a.out 12 12
Ulaz:   12345
Izlaz:  12345
\end{test}
\end{minitest}
\end{Exercise}
\begin{Answer}[ref=209]
%\includecode{resenja/02_Bitovi/209.c}
\end{Answer}

\begin{Exercise}[label=210]
  Napisati funkciju koja na osnovu neoznačenog broja $x$
  formira nisku $s$ koja sadrži heksadekadni zapis broja
  $x$, koristeći algoritam za brzo prevođenje binarnog u
  heksadekadni zapis (svake $4$ binarne cifre se zamenjuju jednom
  odgovarajućom heksadekadnom cifrom).  Napisati program koji tu
  funkciju testira za broj koji se zadaje sa standardnog ulaza.

\begin{minitest}
\begin{test}{Test 1}
Ulaz:   11             
Izlaz:  0000000B      
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:  1024        
Izlaz: 00000400  
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:  12345
Izlaz: 00003039
\end{test}
\end{minitest}
\end{Exercise}
\begin{Answer}[ref=210]
%\includecode{resenja/02_Bitovi/210.c}
\end{Answer}

%%%%%%%%%%%%%%%%%%%%%%%%%
% Zadaci sa praktikuma - dodatni zadaci - oni nemaju rešenja
% možda \subsection{Dodatni zadaci} ili zadaci za vežbu
%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{Exercise}[label=211]
  Napisati funkciju koja za dva data neoznačena broja $x$
  i $y$ invertuje u podatku $x$ one bitove koji se poklapaju
  sa odgovarajućim bitovima u broju $y$. Ostali bitovi ostaju
  nepromenjeni.  Napisati program koji tu funkciju testira za brojeve
  koji se zadaju sa standardnog ulaza.
  
\begin{minitest}
\begin{test}{Test 1}
Ulaz:   123 10        
Izlaz:  4294967285    
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:  3251 0    
Izlaz: 4294967295    
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:   12541 1024
Izlaz:  4294966271
\end{test}
\end{minitest}
\end{Exercise}
\begin{Answer}[ref=211]
%\includecode{resenja/02_Bitovi/211.c}
\end{Answer}

\begin{Exercise}[label=212]
Napisati funkciju koja računa koliko petica bi imao ceo
  neoznačen broj $x$ u oktalnom zapisu. Napisati program koji
  tu funkciju testira za broj koji se zadaje sa standardnog ulaza.
  
\begin{minitest}
\begin{test}{Test 1}
Ulaz:   123        
Izlaz:  0             
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:   3245      
Izlaz:  2              
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:   100328
Izlaz:  1
\end{test}
\end{minitest}  
\end{Exercise}
\begin{Answer}[ref=212]
%\includecode{resenja/02_Bitovi/212.c}
\end{Answer}


\subsection{Rekurzija i bitovi}
\begin{Exercise}[label=103]
%\komentar{Nina: Ovaj zadatak treba posle poglavlja o bitovima. Možda napraviti podpoglavlje u poglavlju Bitovi da se odvoje oni zadaci koji se odnose i na rekurziju.}
Napisati rekurzivnu funkciju vraća broj bitova koji su postavljeni na 1, u binarnoj reprezentaciji njenog celobrojnog argumenta.  Napisati program koji testira napisanu funkciju za brojeve koji se učitavaju sa standardnog ulaza zadati u heksadekadnom formatu. 


\begin{minitest}
\begin{test}{Test 1}
Ulaz:  0x7F    
Izlaz:  7             
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:  0x80
Izlaz:  1         
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:   0x00FF00FF
Izlaz:  16
\end{test}
\begin{test}{Test 4}
Ulaz:   0xFFFFFFFF       
Izlaz:  32
\end{test}
\end{minitest}  
% Izbačeno (ne možemo da obezbedimo rešenje) Dodatak za vežbu: \emph{Ispratiti stanje na sistemskom steku u toku izvršavanja jednog poziva funkcije.}
\end{Exercise}
\begin{Answer}[ref=103]
\includecode{resenja/01_Rekurzija/103.c}
\end{Answer}

\begin{Exercise}[label=115]
%\komentar{Nina: Ovaj bi trebalo da ide u razne zadatke ili u okviru poglavlja sa bitovima.} Ovaj nema resenje!!!

Napisati rekurzivnu funkciju koja štampa bitovsku
  reprezentaciju neoznačenog celog broja, i program koji je
  testira za ulaz koji se zadaje sa standardnog ulaza.

\begin{maxitest}
\begin{test}{Test 1}
Ulaz:       10                                 
Izlaz:      00000000000000000000000000001010                    
\end{test}
\end{maxitest}
\end{Exercise}
%\begin{Answer}[ref=115]
%\includecode{resenja/01_Rekurzija/115.c}
%\end{Answer}

\begin{Exercise}[label=213]%[label=308]
\komentar{Nina: Ovo je prebaceno iz poglavlja sa pokazivacima.}
Napisati rekurzivnu funkciju za određivanje
najveće cifre u oktalnom zapisu
neoznačenog celog broja korišćenjem bitskih operatora.
Uputstvo: binarne cifre grupisati u podgrupe od po tri cifre,
počev od bitova najmanje težine.

\begin{minitest}
\begin{test}{Test 1}
Ulaz:  5
Izlaz: 5
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:  125
Izlaz: 7
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:  8
Izlaz: 1
\end{test}
\end{minitest}

\begin{minitest}
\begin{test}{Test 4}
Ulaz:  10
Izlaz: 2
\end{test}
\end{minitest}
\end{Exercise}
\begin{Answer}[ref=213]%[ref=308]
%\includecode{resenja/02_Bitovi/213.c}%{resenja/03_Pokazivaci/308.c}
\end{Answer}

\begin{Exercise}[label=214]%[label=309]
\komentar{Nina: Ovo je prebaceno iz poglavlja sa pokazivacima.}
Napisati rekurzivnu funkciju za određivanje (dekadne vrednosti)
najveće cifre u heksadekadnom zapisu neoznačenog celog broja
korišćenjem bitskih operatora. Uputstvo: binarne cifre
grupisati u podgrupe od po četiri cifre, počev od bitova
najmanje težine.

\begin{minitest}
\begin{test}{Test 1}
Ulaz:  5
Izlaz: 5
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 2}
Ulaz:  16
Izlaz: 1
\end{test}
\end{minitest}
\begin{minitest}
\begin{test}{Test 3}
Ulaz:  18
Izlaz: 2
\end{test}
\end{minitest}

\begin{minitest}
\begin{test}{Test 4}
Ulaz:  165
Izlaz: 10
\end{test}
\end{minitest}
\end{Exercise}
\begin{Answer}[ref=214]%[ref=309]
%\includecode{resenja/02_Bitovi/214.c}%{resenja/03_Pokazivaci/309.c}
\end{Answer}


\section{Rešenja}
\shipoutAnswer
